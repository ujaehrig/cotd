{% if vacations %}
<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Duration</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for vacation in vacations %}
            <tr id="vacation-{{ vacation.id }}">
                <td>
                    <span class="badge bg-primary">{{ vacation.start_date }}</span>
                </td>
                <td>
                    <span class="badge bg-primary">{{ vacation.end_date }}</span>
                </td>
                <td>
                    {% if vacation.start_date == vacation.end_date %}
                        <span class="badge bg-info">Single Day</span>
                    {% else %}
                        <span class="badge bg-success">
                            {{ (vacation.end_date | strptime('%Y-%m-%d') - vacation.start_date | strptime('%Y-%m-%d')).days + 1 }} days
                        </span>
                    {% endif %}
                </td>
                <td>
                    {% set today = today_date %}
                    {% if vacation.end_date < today %}
                        <span class="badge bg-secondary">Past</span>
                    {% elif vacation.start_date <= today and vacation.end_date >= today %}
                        <span class="badge bg-warning">Active</span>
                    {% else %}
                        <span class="badge bg-success">Upcoming</span>
                    {% endif %}
                </td>
                <td>
                    <button type="button" class="btn btn-sm btn-outline-danger" 
                            hx-delete="{{ url_for('delete_vacation', vacation_id=vacation.id) }}"
                            hx-target="#vacation-{{ vacation.id }}"
                            hx-swap="outerHTML"
                            hx-confirm="Are you sure you want to delete this vacation period ({{ vacation.start_date }}{% if vacation.start_date != vacation.end_date %} to {{ vacation.end_date }}{% endif %})?">
                        <i class="fas fa-trash me-1"></i>Delete
                    </button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="text-center py-5">
    <i class="fas fa-umbrella-beach fa-3x text-muted mb-3"></i>
    <h4 class="text-muted">No vacation periods found</h4>
    <p class="text-muted">You haven't added any vacation periods yet.</p>
    <button class="btn btn-primary" 
            hx-get="{{ url_for('add_vacation') }}"
            hx-target="#vacation-form-container"
            hx-swap="innerHTML">
        <i class="fas fa-plus me-1"></i>Add Your First Vacation
    </button>
</div>
{% endif %}
